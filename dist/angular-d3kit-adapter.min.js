!function(a,b){"function"==typeof define&&define.amd?define(["angular"],b):"object"==typeof exports?module.exports=b(require("angular")):a.angular.d3KitAdapter=b(a.angular)}(this,function(a){function b(a){return a.trim().replace(/([A-Z])/g,"-$1").replace(/[-_\s]+/g,"-").toLowerCase()}function c(a){return a.charAt(0).toUpperCase()+a.slice(1)}var d=function(){function d(d,e,f){var g=f.getCustomEvents().map(function(a){return"chartOn"+c(a)}),h={chartData:"=",chartOptions:"=",chartOnInit:"&"};return g.forEach(function(a){h[a]="&"}),d.directive(e,["$parse",function(c){return{restrict:"AE",replace:!0,template:"<div></div>",scope:h,link:function(c,d,h){a.element(d[0]).addClass(b(e));var i=new f(d[0]);c.chart=i,h.width&&h.height?i.dimension([h.width,h.height]):h.width?i.width(h.width):h.height?i.height(h.height):i.width("auto"),i.autoResize(h.chartAutoResize||"width"),i.autoResizeDetection(h.chartAutoResizeDetection||"window"),c.$watch("chartData",function(b){b&&a.isFunction(b.then)?b.then(function(a){i.data(a)}):i.data(b)}),c.$watch("chartOptions",function(a){a&&i.options(a)},!0),a.isFunction(c.chartOnInit())&&c.chartOnInit()(i),g.forEach(function(b){i.on(eventName+".chartDirectiveFactory",function(){var d=this,e=c[b]();if(a.isFunction(e)){var f=Array.prototype.slice.call(arguments);e.apply(d,f)}})}),c.$on("$destroy",function(){i.autoResize(!1),i.on(".chartDirectiveFactory",null)})}}}])}return{plug:d}}();return d});